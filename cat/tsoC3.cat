"X86 TSO"
include "cos.cat"
include "fences.cat"
include "filters.cat"

(* All communication relations *)
let com = (co | fr | rf)

(* Uniproc *)

(* Atomic *)
let implied = po & W*R & ((M * A) | (A * M))

(* Communication relations for TSO *)
let com-tso = (co | fr | rfe)

(* Program order for TSO *)
let po-tso = ((po \ W*R) | mfence)

(* TSO global-happens-before *)
let ghb-tso = po-tso | com-tso | implied

acyclic ghb-tso as tso
